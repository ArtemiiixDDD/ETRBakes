<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Checkout â€” ETRBakes</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="relative min-h-screen text-gray-900">

<div class="absolute inset-0 bg-[url('/images/background.jpg')] bg-cover bg-center bg-no-repeat"></div>
<div class="absolute inset-0 bg-black opacity-30"></div>

<div class="relative z-10 max-w-3xl mx-auto p-6">
<h1 class="text-2xl font-bold mb-6 text-white">Checkout</h1>

<div id="checkout-items" class="mb-6 bg-white bg-opacity-90 p-6 rounded shadow space-y-6"></div>
<div id="grand-total" class="text-right font-bold text-lg mb-6 text-white">Grand Total: $0.00</div>

<form id="checkout-form" class="mt-6 bg-white bg-opacity-90 p-6 rounded shadow space-y-4">
<label class="block">
<span class="text-sm font-medium">Full name</span>
<input type="text" id="name" class="mt-1 block w-full border rounded px-3 py-2" required />
</label>
<label class="block">
<span class="text-sm font-medium">Email</span>
<input type="email" id="email" class="mt-1 block w-full border rounded px-3 py-2" required />
</label>
<label class="block">
<span class="text-sm font-medium">Address</span>
<input type="text" id="address" class="mt-1 block w-full border rounded px-3 py-2" required />
</label>
<div class="flex items-center justify-between">
<a href="/cart.html" class="text-sm text-gray-700 hover:underline">Back to cart</a>
<button class="bg-indigo-600 text-white px-4 py-2 rounded" type="submit">Place order (demo)</button>
</div>
</form>

<div id="checkout-success" class="hidden mt-6 rounded bg-green-50 p-4 text-green-800"></div>
</div>

<script src="/assets/js/main.js"></script>
<script>
let cart = JSON.parse(localStorage.getItem('ETRBakes-cart')) || [];
const checkoutItems = document.getElementById('checkout-items');
const grandTotalEl = document.getElementById('grand-total');

function renderCart(){
checkoutItems.innerHTML='';
let grandTotal=0;
cart.forEach(item=>{
const total=item.price*item.quantity;
grandTotal+=total;
const div=document.createElement('div');
div.className='flex justify-between items-center border-b pb-2';
div.innerHTML=`<div>
<h3 class="font-semibold">${item.name}</h3>
<p class="text-sm text-gray-500">$${item.price.toFixed(2)}</p>
</div>
<div class="flex items-center gap-2">
<input type="number" min="1" value="${item.quantity}" class="w-16 border rounded p-1 text-center quantity" />
<div class="font-semibold total">$${total.toFixed(2)}</div>
</div>`;
checkoutItems.appendChild(div);
const qtyInput=div.querySelector('.quantity');
const totalEl=div.querySelector('.total');
qtyInput.addEventListener('input',()=>{
item.quantity=parseInt(qtyInput.value)||1;
totalEl.textContent=`$${(item.price*item.quantity).toFixed(2)}`;
updateGrandTotal();
localStorage.setItem('ETRBakes-cart',JSON.stringify(cart));
});
});
grandTotalEl.textContent=`Grand Total: $${grandTotal.toFixed(2)}`;
}
function updateGrandTotal(){
const total=cart.reduce((sum,item)=>sum+item.price*item.quantity,0);
grandTotalEl.textContent=`Grand Total: $${total.toFixed(2)}`;
}
renderCart();
document.getElementById('checkout-form').addEventListener('submit',function(e){
e.preventDefault();
const name=document.getElementById('name').value.trim();
const email=document.getElementById('email').value.trim();
const address=document.getElementById('address').value.trim();
if(!name||!email||!address){alert('Please fill all fields.');return;}
localStorage.removeItem('ETRBakes-cart');
cart=[];
checkoutItems.innerHTML='';
grandTotalEl.textContent='Grand Total: $0.00';
const successDiv=document.getElementById('checkout-success');
successDiv.textContent='Thanks! Your order is received (demo).';
successDiv.classList.remove('hidden');
});
</script>

</body>
</html>
